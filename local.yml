- hosts: "{{ 'localhost' if (ansible_pull is defined and ansible_pull) else 'all' }}"
  become: true
  
  vars:
    ansible_python_interpreter: /usr/bin/python3

  pre_tasks:
    - name: update repositories
      ansible.builtin.apt:
        update_cache: yes
      changed_when: false

  tasks:
    - import_tasks: tasks/docker.yaml
    - import_tasks: tasks/portainer.yaml